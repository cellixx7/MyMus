<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="assets/Design MyMus/logo-navbar.png">
  <title>MyMus</title>
  <link rel="stylesheet" href="style.css">
  <!-- Fonte limpa substituta: Work Sans -->
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Navbar principal (full-width, no sidebar) -->
  <nav class="navbar" role="navigation" aria-label="Barra principal">
    <!-- Botão do menu (logo pequeno) -->
    <button class="menu-btn" aria-label="Abrir menu">
      <img src="assets/Design MyMus/logo-navbar.png" alt="MyMus" class="menu-logo">
    </button>

    <!-- Links da navbar (alinhados à esquerda do centro) -->
    <ul class="nav-links" role="menubar">
      <li role="none"><a role="menuitem" href="#inicio">Início</a></li>
      <li class="has-dropdown" role="none">
        <a role="menuitem" href="#aprendizado" aria-haspopup="true" aria-expanded="false">
          Aprendizado <span class="nav-arrow" aria-hidden="true"></span>
        </a>
      </li>
      <li class="has-dropdown" role="none">
        <a role="menuitem" href="#ferramentas" aria-haspopup="true" aria-expanded="false">
          Ferramentas <span class="nav-arrow" aria-hidden="true"></span>
        </a>
      </li>
      <li class="has-dropdown" role="none">
        <a role="menuitem" href="#instrumentos" aria-haspopup="true" aria-expanded="false">
          Instrumentos <span class="nav-arrow" aria-hidden="true"></span>
        </a>
      </li>
      <li role="none"><a role="menuitem" href="#sobre">Sobre</a></li>
    </ul>

    <!-- Avatar (sem login) no canto direito -->
    <button class="avatar-btn" aria-label="Perfil">
      <svg class="avatar-svg" width="40" height="40" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <defs><linearGradient id="gA" x1="0" x2="1"><stop offset="0" stop-color="#4f8cff"/><stop offset="1" stop-color="#3573d6"/></linearGradient></defs>
        <circle cx="12" cy="8" r="3.2" fill="url(#gA)"></circle>
        <path d="M4 20c0-3.3 2.7-6 6-6h4c3.3 0 6 2.7 6 6" fill="none" stroke="url(#gA)" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </nav>

  <!-- Overlay e sidebar móvel (aparecem em telas pequenas) -->
  <div class="mobile-overlay" id="mobileOverlay" aria-hidden="true"></div>

  <aside class="mobile-sidebar" id="mobileSidebar" aria-hidden="true" role="dialog" aria-label="Menu">
    <button class="mobile-close" aria-label="Fechar menu">&times;</button>
    <!-- links serão clonados via JS para evitar duplicação -->
    <div class="mobile-links-wrap" id="mobileLinksWrap"></div>
  </aside>

  <!-- Dropdown panels (vazios por enquanto, serão preenchidos depois) -->
  <div class="dropdown-panels" aria-hidden="true">
    <div class="dropdown-panel" id="panel-aprendizado" data-for="Aprendizado" aria-hidden="true">
      <!-- Conteúdo a ser preenchido posteriormente -->
    </div>
    <div class="dropdown-panel" id="panel-ferramentas" data-for="Ferramentas" aria-hidden="true">
    </div>
    <div class="dropdown-panel" id="panel-instrumentos" data-for="Instrumentos" aria-hidden="true">
    </div>
  </div>

  <main>
    <section class="hero" id="inicio">
      <div class="hero-content">
        <p class="hero-subtitle">Melhor plataforma musical</p>
        <a href="#sobre" class="down-arrow" aria-label="Ir para Sobre Nós">
          <!-- SVG seta para baixo -->
          <svg width="32" height="32" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
            <path d="M12 5v14M19 12l-7 7-7-7"/>
          </svg>
        </a>
      </div>
    </section>

    <section class="about" id="sobre">
      <h2>Sobre Nós</h2>
      <p>
        A MyMus é a melhor plataforma musical para você descobrir, ouvir e compartilhar músicas. Nossa missão é conectar pessoas através da música, oferecendo uma experiência moderna, intuitiva e personalizada.
      </p>
    </section>
  </main>

  <!-- Script leve para controlar abertura dos painéis (hover + keyboard + touch) -->
  <script>
    (function(){
      const links = document.querySelectorAll('.nav-links .has-dropdown > a');
      const panels = {
        'Aprendizado': document.getElementById('panel-aprendizado'),
        'Ferramentas': document.getElementById('panel-ferramentas'),
        'Instrumentos': document.getElementById('panel-instrumentos')
      };

      function openPanel(name, anchor){
        const panel = panels[name];
        if(!panel) return;
        // posiciona o painel horizontalmente com base no anchor
        const rect = anchor.getBoundingClientRect();
        panel.style.display = 'block';
        panel.style.opacity = '0';
        panel.style.transform = 'translateY(6px)';
        // centraliza o painel na largura do conteúdo quando possível
        const containerRect = document.querySelector('.navbar').getBoundingClientRect();
        const left = Math.max(8, rect.left + (rect.width/2) - (containerRect.left + 160));
        panel.style.left = `${left}px`;
        panel.setAttribute('aria-hidden','false');
        anchor.setAttribute('aria-expanded','true');
        requestAnimationFrame(()=> {
          panel.style.opacity = '1';
          panel.style.transform = 'translateY(0)';
        });
      }

      function closePanel(name, anchor){
        const panel = panels[name];
        if(!panel) return;
        panel.style.opacity = '0';
        panel.style.transform = 'translateY(6px)';
        anchor.setAttribute('aria-expanded','false');
        panel.setAttribute('aria-hidden','true');
        setTimeout(()=>{ panel.style.display = 'none'; }, 220);
      }

      links.forEach(a=>{
        const text = a.textContent.trim();
        // hover
        a.addEventListener('mouseenter', ()=> openPanel(text, a));
        a.addEventListener('mouseleave', ()=> closePanel(text, a));
        // keep open when entering panel
        const panel = panels[text];
        if(panel){
          panel.addEventListener('mouseenter', ()=> openPanel(text, a));
          panel.addEventListener('mouseleave', ()=> closePanel(text, a));
        }
        // keyboard (focus)
        a.addEventListener('focus', ()=> openPanel(text, a));
        a.addEventListener('blur', ()=> closePanel(text, a));
        // touch/click toggle for mobile
        a.addEventListener('click', (e)=>{
          if(window.innerWidth <= 700){
            e.preventDefault();
            const isOpen = a.getAttribute('aria-expanded') === 'true';
            if(isOpen) closePanel(text, a); else openPanel(text, a);
          }
        });
      });

      // fechar todos ao clicar fora
      document.addEventListener('click', (e)=>{
        if(!e.target.closest('.nav-links') && !e.target.closest('.dropdown-panel')) {
          Object.keys(panels).forEach(name=>{
            const panel = panels[name];
            if(panel) { panel.style.display='none'; panel.setAttribute('aria-hidden','true'); }
          });
          links.forEach(a=> a.setAttribute('aria-expanded','false'));
        }
      });
    })();
  </script>

  <script src="script.js"></script>
</body>
</html>